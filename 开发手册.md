## 版本

Springboot 2.7



## 集成knife4j

[Knife4j版本参考 | Knife4j](https://doc.xiaominfo.com/docs/quick-start/start-knife4j-version)

Knife4j 建议使用4版本。使用knife4j 4版本的最低要求是springboot2.4.

4版本的引入有两者，一种是swagger2规范，一种是openapi3规范（spring boot 3 建议）

由于该项目是springboot2.7版本，两个规范都可以引入选择其一。

1.引入依赖

```xml
<!-- https://doc.xiaominfo.com/docs/quick-start#openapi2 -->
        <dependency>
            <groupId>com.github.xiaoymin</groupId>
            <artifactId>knife4j-openapi2-spring-boot-starter</artifactId>
            <version>4.4.0</version>
        </dependency>
```



2.修改yaml配置文件

注意

```yaml
api-rule-resources:
          - com.ls.template.controller  # 要扫描的包路径，通常是你的控制器所在的包
```

要替换成自己controller层的包。

```yaml
# 接口文档配置 http://localhost:8080/api/doc.html
knife4j:
  enable: true  # 启用 Knife4j
  openapi:
    title: "接口文档"  # 设置文档标题
    version: "1.0"  # 设置文档版本
    group:
      default:  # 默认组配置
        api-rule: package  # 按照包扫描规则生成文档
        api-rule-resources:
          - com.ls.template.controller  # 要扫描的包路径，通常是你的控制器所在的包

# 服务配置
server:
  port: 8080
  servlet:
    context-path: /api

```

3. 测试 http://localhost:8080/api/doc.html

tips: 若接口文档正常显示，但是没有具体的接口。可以按如下思路排查，1.配置中包的位置是否正确。2.看启动类位置是否有误，确保 `Controller` 类被 Spring Boot 扫描到。默认情况下，Spring Boot 会扫描 `@SpringBootApplication` 注解所在包及其子包下的所有类。如果你的控制器不在扫描范围内，Spring Boot 是无法注册该控制器的。